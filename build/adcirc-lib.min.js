// https://github.com/atdyer/adcirc-lib Version 0.0.1. Copyright 2017 Tristan Dyer.
(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.adcirc=e.adcirc||{})})(this,function(e){"use strict";function t(e){function t(e,t,n){var o=n.slice(e,e+t);i.onload=r,i.readAsText(o)}function r(r){if(null!==r.target.error)throw d(r.target.error),r.target.error;var n=r.target.result;s+=n.length,s>=o?(c(n),u()):(c(n),l()?t(s,a,e):u())}var n=e,o=e.size,i=new FileReader,a=262144,s=0,c=function(){},l=function(){return!0},u=function(){},d=function(){},f=function(e){n=e,o=e.size};return f.read=function(){return t(s,a,e),f},f.read_block=function(e,t,r){var o=n.slice(e,t);i.onload=function(e){if(null!==e.target.error)throw d(e.target.error),e.target.error;r(e.target.result)},i.readAsText(o)},f.block_size=function(e){return arguments.length?(a=e,f):a},f.offset=function(e){return arguments.length?(s=e,f):s},f.block_callback=function(e){return arguments.length?("function"==typeof e&&(c=e),f):c},f.continue_callback=function(e){return arguments.length?("function"==typeof e&&(l=e),f):l},f.finished_callback=function(e){return arguments.length?("function"==typeof e&&(u=e),f):u},f.error_callback=function(e){return arguments.length?("function"==typeof e&&(d=e),f):d},f}function build_fort14_worker(){function e(){var e;if(X&&N.length)for(;void 0!==(e=N.shift());)e();if(H&&q.length)for(;void 0!==(e=q.shift());)e()}function r(){i("\n"),u("load_mesh"),e()}function n(e,t){var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(n,e[n]);return new t(r)}function o(e){p(e)}function i(e){F=0,e=B+e;for(var t,r;null!==(r=S.exec(e));)100*(L+r.index)/_>V&&(l(V,"load_mesh"),V+=Z),0==R?(z.agrid=L+r.index,g=r[0].trim()):1==R?(z.info_line=L+r.index,h=r[0].trim(),t=h.match(I),y=parseInt(t[0]),v=parseInt(t[1]),x=new Float32Array(3*v),b=new Uint32Array(3*y)):R>=2&&R<2+v?(2==R&&(z.nodes=L+r.index),a(r[0])):R>=2+v&&R<2+v+y?(X=!0,R==2+v&&(z.elements=L+r.index),s(r[0])):void 0===w?(H=!0,z.nope=L+r.index,t=r[0].match(I),w=parseInt(t[0])):void 0===A?(z.neta=L+r.index,t=r[0].match(I),A=parseInt(t[0])):G.length==w&&void 0===k?(z.nbou=L+r.index,t=r[0].match(I),k=parseInt(t[0])):G.length==w&&void 0===E?(z.nvel=L+r.index,t=r[0].match(I),E=parseInt(t[0])):Y==-1&&(G.length<w||D.length<k)?(t=r[0].match(I),Y=parseInt(t[0]),K=[]):K.length<Y&&(t=r[0].match(I),K.push(parseInt(t[0])),K.length==Y&&(G.length<w?G.push(K):D.length<k&&D.push(K),Y=-1,K=[])),F=S.lastIndex,R+=1;B=e.slice(F),L+=F}function a(e){var t=e.match(I),r=parseInt(t[0]),n=parseFloat(t[1]),o=parseFloat(t[2]),i=parseFloat(t[3]);n<T?T=n:n>U&&(U=n),o<P?P=o:o>M&&(M=o),i<j?j=i:i>O&&(O=i);var a=R-2;x[3*a]=n,x[3*a+1]=o,x[3*a+2]=i,W[r]=a}function s(e){var t=e.match(I),r=R-v-2,n=parseInt(t[0]);b[3*r]=parseInt(t[2]),b[3*r+1]=parseInt(t[3]),b[3*r+2]=parseInt(t[4]),C[n]=r}function c(e){var t={type:"start"};e&&(t.task=e),self.postMessage(t)}function l(e,t){var r={type:"progress",progress:e};t&&(r.task=t),self.postMessage(r)}function u(e){var t={type:"finish"};e&&(t.task=e),self.postMessage(t)}function d(){var e=n(C,Uint32Array),t={type:"elements",element_array:b.buffer,element_map:e.buffer};self.postMessage(t,[t.element_array,t.element_map])}function f(){var e=n(W,Uint32Array),t={type:"nodes",node_array:x.buffer,node_map:e.buffer,dimensions:3};self.postMessage(t,[t.node_array,t.node_map])}function p(e){self.postMessage({type:"error",error:e.message})}var m,_,g,h,v,y,x,b,w,A,k,E,F=0,L=0,R=0,z={},B="",S=/.*\r?\n/g,I=/\S+/g,T=1/0,U=-(1/0),P=1/0,M=-(1/0),j=1/0,O=-(1/0),W={},C={},G=[],D=[],Y=-1,K=[],X=!1,H=!1,N=[],q=[],Z=2,V=0+Z;self.addEventListener("message",function(n){switch(n=n.data,n.type){case"read":_=n.file.size,c("load_mesh"),m=t(n.file).block_callback(i).finished_callback(r).error_callback(o).read();break;case"get":"nodes"===n.what&&(N.push(f),e()),"elements"===n.what&&(q.push(d),e())}})}function r(){var e="";return e+=t.toString(),e+=build_fort14_worker.toString(),e+="build_fort14_worker();",O(e)}function n(e){for(var t=d3.map(),r=e.length/2,n=0;n<r;++n)t.set(e[2*n],e[2*n+1]);return t}function o(e){e=e||Object.create(null);var t={},r={};return e.on=function(r,n){return arguments.length?1==arguments.length?t[r]:(void 0===t[r]&&(t[r]=[]),t[r].indexOf(n)===-1&&t[r].push(n),e):e},e.once=function(t,n){return arguments.length?1==arguments.length?r[t]:(void 0===r[t]&&(r[t]=[]),r[t].indexOf(n)===-1&&r[t].push(n),e):e},e.off=function(n,o){var i,a=t[n],s=r[n];return void 0!==a&&(i=a.indexOf(o))!==-1&&a.splice(i,1),void 0!==s&&(i=s.indexOf(o))!==-1&&s.splice(i,1),e},e.dispatch=function(n){var o,i,a=t[n.type],s=r[n.type],c=[];if(void 0!==a){for(void 0===n.target&&(n.target=e),i=a.length,o=0;o<i;o++)c[o]=a[o];for(o=0;o<i;o++)c[o].call(e,n)}if(void 0!==s){for(void 0===n.target&&(n.target=e),i=s.length,o=0;o<i;o++)c[o]=s[o];for(o=0;o<i;o++)c[o].call(e,n);r[n.type]=[]}return e},e}function i(){var e,t,i=r(),a=o();return a.elements=function(t){return arguments.length?(e=t,a):e},a.nodes=function(e){return arguments.length?(t=e,a):t},a.read=function(e){i.postMessage({type:"read",file:e})},i.addEventListener("message",function(r){switch(r=r.data,r.type){case"start":a.dispatch(r);break;case"progress":a.dispatch(r);break;case"finish":a.dispatch(r),i.postMessage({type:"get",what:"nodes"}),i.postMessage({type:"get",what:"elements"});break;case"nodes":t={array:new Float32Array(r.node_array),map:n(new Uint32Array(r.node_map)),dimensions:r.dimensions,names:["x","y","depth"]},a.dispatch({type:"nodes",nodes:t}),t&&e&&a.dispatch({type:"ready"});break;case"elements":e={array:new Uint32Array(r.element_array),map:n(new Uint32Array(r.element_map))},a.dispatch({type:"elements",elements:e}),t&&e&&a.dispatch({type:"ready"})}}),a}function build_fortnd_worker(){function e(){var e,t=F;for(F=[];t.length>0;)e=t.shift(),r(e);e=E.shift(),void 0!==e?(k=!0,"timestep"===e.type?i(e.index):"timeseries"===e.type?o(e.node_number):"prep_timeseries"===e.type&&n()):(k=!1,L.finished||s())}function r(e){"timestep"===e.type?e.index<A.length?E.push(e):F.push(e):"timeseries"!==e.type&&"prep_timeseries"!==e.type||(L.finished?E.push(e):F.push(e))}function n(){f("timeseries_prep");for(var t=new FileReaderSync,r=t.readAsText(_),n=r.split(/\r?\n/g),o=n[1].match(/\S+/g),i=parseInt(o[1]),a=parseInt(o[0]),s=0;s<i;++s)R[(s+1).toString()]=[];for(var c=0;c<a;++c){var u=2+c*(i+1),p=n[u].match(/\S+/g);R.seconds.push(parseFloat(p[0])),R.timestep.push(parseInt(p[1]));var m=1/0,g=-(1/0);for(d(100*c/b,"timeseries_prep"),s=1;s<i+1;++s){var h=parseFloat(n[u+s].match(/\S+/g)[1]);h!=-99999&&(h>g&&(g=h),h<m&&(m=h)),R[s.toString()].push(h)}g!=1/0?B.push(g):B.push(null),m!=1/0?z.push(m):z.push(null)}l("timeseries_prep"),e()}function o(t){p({array:new Float32Array(R[t]),node_number:t,min:[z[t-1]],max:[B[t-1]]}),e()}function i(t){function r(t){for(;null!==(n=l.exec(t))&&f<w;){if(a){o=n[0].match(u);for(var p=0;p<v;++p)i=parseFloat(o[1]),d.array[f++]=i,i!==-99999&&(i<d.min[p]?d.min[p]=i:i>d.max[p]&&(d.max[p]=i))}else a=n[0].match(u),d.model_time=parseFloat(a[0]),d.timestep=parseInt(a[1]);s+=n[0].length}f<w?h.read_block(s,s+c,r):(m(d),e())}var n,o,i,a,s=A[t],c=5242880,l=/.*\r?\n/g,u=/\S+/g,d={array:new Float32Array(v*w),index:t,min:new Array(v).fill(1/0),max:new Array(v).fill(-(1/0))},f=0;h.read_block(s,s+c,r)}function a(){f(),g=_.size,h=t(_).error_callback(c),h.read_block(0,1024,function(e){var t=/.*\r?\n/g,r=0,n=t.exec(e);if(null!==n&&(r+=n[0].length,null!==(n=t.exec(e)))){r+=n[0].length;var o=n[0],i=o.match(/\S+/g);b=parseInt(i[0]),w=parseInt(i[1]),x=parseInt(i[3]),y=parseFloat(i[2])/x,u(),L.location=r,s()}})}function s(){function t(t){for(;null!==(r=n.exec(t));)L.header?(L.node_index+=1,L.node_index==w&&(L.header=null,L.node_index=0)):(L.header=r[0],A[L.ts_index++]=L.location,d(L.ts_index/b*100,"map_timesteps")),L.location+=r[0].length;L.ts_index<b?e():(L.finished=!0,l("map_timesteps"),L.final_check||(L.final_check=!0,e()))}var r,n=/.*\r?\n/g;h.read_block(L.location,L.location+L.block_size,t)}function c(e){self.postMessage({type:"error",error:e.message})}function l(e){var t={type:"finish"};e&&(t.task=e),self.postMessage(t)}function u(){self.postMessage({type:"info",file_size:g,num_datapoints:w,num_datasets:b,num_dimensions:v,model_timestep:y,model_timestep_interval:x})}function d(e,t){var r={type:"progress",progress:e};t&&(r.task=t),self.postMessage(r)}function f(e){var t={type:"start"};e&&(t.task=e),self.postMessage(t)}function p(e){for(var t=[],r=0;r<v;++r)t.push([e.min[r],e.max[r]]);var n={type:"timeseries",data_range:t,dimensions:v,node_number:e.node_number,array:e.array.buffer};self.postMessage(n,[n.array])}function m(e){for(var t=[],r=0;r<v;++r)t.push([e.min[r],e.max[r]]);var n={type:"timestep",data_range:t,dimensions:v,index:e.index,model_time:e.model_time,model_timestep:e.timestep,num_datasets:b,array:e.array.buffer};self.postMessage(n,[n.array])}var _,g,h,v,y,x,b=0,w=0,A=[],k=!1,E=[],F=[],L={block_size:10485760,location:0,header:null,ts_index:0,node_index:0,finished:!1,final_check:!1},R={seconds:[],timestep:[]},z=[],B=[];self.addEventListener("message",function(t){switch(t=t.data,t.type){case"read":_=t.file,v=t.n_dims,r({type:"prep_timeseries"}),a();break;case"timeseries":r({type:"timeseries",node_number:t.node_number}),L.finished&&!k&&e();break;case"timestep":r({type:"timestep",index:t.index}),L.finished&&!k&&e()}})}function a(){var e="";return e+=t.toString(),e+=build_fortnd_worker.toString(),e+="build_fortnd_worker();",O(e)}function s(e){var t,r,n,o,i,a,s,c={};if(e.hasOwnProperty("data_range")&&e.hasOwnProperty("dimensions")&&e.hasOwnProperty("model_time")&&e.hasOwnProperty("model_timestep")&&e.hasOwnProperty("index")&&e.hasOwnProperty("array"))try{r=e.data_range,n=e.dimensions,o=e.index,i=e.model_time,a=e.model_timestep,s=e.num_datasets,t=new Float32Array(e.array)}catch(e){throw console.error("Error building timestep"),console.error(e.message),e}else console.error("Timestep is missing data"),console.error(e);return c.data=function(){return t},c.data_range=function(){return r},c.dimensions=function(){return n},c.index=function(e){return arguments.length?(o=e,c):o},c.model_time=function(e){return arguments.length?(i=e,c):i},c.model_timestep=function(e){return arguments.length?(a=e,c):a},c.num_datasets=function(e){return arguments.length?(s=e,c):s},c}function c(e){var t,r,n,i,c,l,u=e,d=a(),f=o();return f.timeseries=function(e,t){"function"==typeof t&&f.once("timeseries"+e,function(e){t(e)}),d.postMessage({type:"timeseries",node_number:e})},f.timestep=function(e,t){return e>=0&&e<n&&("function"==typeof t&&f.once("timestep"+e,function(e){t(e)}),d.postMessage({type:"timestep",index:e})),f},f.read=function(t){return d.postMessage({type:"read",file:t,n_dims:e}),f},d.addEventListener("message",function(e){switch(e=e.data,e.type){case"info":t=e.file_size,r=e.num_datapoints,n=e.num_datasets,i=e.num_dimensions,c=e.model_timestep,l=e.model_timestep_interval,f.dispatch({type:"info",file_size:t,num_datapoints:r,num_datasets:n,num_dimensions:i,model_timestep:c,model_timestep_interval:l});break;case"start":f.dispatch(e);break;case"progress":f.dispatch(e);break;case"finish":f.dispatch(e),f.dispatch({type:"ready"});break;case"error":f.dispatch({type:"error",error:e.error});break;case"timeseries":var o=e.node_number,a={array:new Float32Array(e.array),data_range:e.data_range,dimensions:e.dimensions,node_number:e.node_number};f.dispatch({type:"timeseries"+o,timeseries:a}),f.dispatch({type:"timeseries",timeseries:a});break;case"timeseries_ready":f.dispatch(e);break;case"timestep":var u=s(e);f.dispatch({type:"timestep",timestep:u}),f.dispatch({type:"timestep"+u.index(),timestep:u})}}),d.postMessage({type:"n_dims",n_dims:u}),f}function l(){return c(1)}function u(){return c(2)}function d(){function e(e){return e%c}function t(t){p[e(t)]=!1,--g}function r(){return void 0===c||void 0===s?(console.error("Cache sizes not defined"),!1):!!(void 0!==i&&void 0!==a||u)||(console.error("A getter must be defined if cache is not bounded by other caches"),!1)}function n(t){p[e(t)]=!0,++g,_.is_full()&&_.dispatch({type:"ready"})}var i,a,s,c,l,u,d,f,p,m,_=o(),g=0;return _.cache_left=function(e){return arguments.length?(i=e,_):i},_.cache_right=function(e){return arguments.length?(a=e,_):a},_.contains=function(e){return e>=m&&e<m+c},_.get=function(t){if(!r())return void console.error("Cache has not been properly initialized");if(_.valid(t))return f[e(t)];if(t<0||t>=s)return void console.error(t+" is outside allowable range");if(t!=m-1){if(t!=m+c)console.error("Jumps not yet supported. Coming soon...");else if(_.shift_right())return f[e(t)]}else if(_.shift_left())return f[e(t)]},_.getter=function(e){return arguments.length?("function"==typeof e?(l=e,u=!0):console.error("Getter must be a function"),_):l},_.is_full=function(){return g==c},_.max_size=function(e){return arguments.length?(s=e,_):s},_.print=function(){console.log(f)},_.range=function(e){if(!arguments.length)return[m,m+c];if(!r())return void console.error("Cache not yet initialized. Set size and accessors before range");if(e[1]-e[0]!==c)return void console.error("Invalid range for cache of size "+c);m=e[0];for(var t=m;t<m+c;++t)i&&i.contains(t)?_.set(t,i.get(t)):a&&a.contains(t)?_.set(t,a.get(t)):l(t,_.set);return _},_.set=function(t,r){_.contains(t)?(f[e(t)]=d(e(t),r),n(t)):console.warn("Dataset "+t+" does not fall into the cache range")},_.size=function(e){return arguments.length?(c=e,f&&console.warn("Warning: Resizing cache, all data will be lost"),f=new Array(c),p=new Array(c).fill(!1),g=0,_):c},_.transform=function(e){return arguments.length?("function"==typeof e&&(d=e),_):d},_.shift_left=function(){var e,r=m-1;return!(r<0)&&(i&&(m==i.range()[1]?e=i.take_right():i.valid(r)&&(e=i.get(r))),a&&(m+c==a.range()[0]?i&&a.range()[0]!==i.range()[1]&&a.shift_left():a.valid(r)&&(e=a.get(r))),!(void 0===e&&!u)&&(m=r,t(m),void 0!==e?_.set(r,e):l(r,_.set),!0))},_.shift_right=function(){var e,r=m+c;return!(r>=s)&&(a&&(r==a.range()[0]?e=a.take_left():a.valid(r)&&(e=a.get(r))),i&&(m==i.range()[1]?a&&a.range()[0]!==i.range()[1]&&i.shift_right():i.valid(r)&&(e=i.get(r))),!(void 0===e&&!u)&&(m+=1,t(r),a?_.set(r,e):l(r,_.set),!0))},_.take_left=function(){var t,r=m;return p[e(r)]&&(t=f[e(r)],_.shift_right()),t},_.take_right=function(){var t,r=m+c-1;return p[e(r)]&&(t=f[e(r)],_.shift_left()),t},_.valid=function(t){return _.contains(t)&&p[e(t)]},d=function(e,t){return t},l=function(){console.error("A getter has not been defined for this cache.")},_}function f(e,t){function r(e){f.dispatch({type:"timestep",timestep:e})}function n(e){var t=_.get(e);void 0!==t&&(s=t.index(),r(t))}function i(e){l=e.num_datasets,p.once("ready",function(){_.once("ready",function(e){n(0),f.dispatch(e)}).max_size(e.num_datasets).range([0,1])}).max_size(e.num_datasets).range([0,t]),m.max_size(e.num_datasets).range([t,2*t]),f.dispatch(e)}function a(e,t){u.timestep(e,function(e){t(e.timestep.index(),e.timestep)})}var s,l,u=c(e),f=o(),p=d().size(t).getter(a),m=d().size(t).getter(a),_=d().size(1).cache_left(p).cache_right(m);return u.on("start",f.dispatch),u.on("progress",f.dispatch),u.on("finish",f.dispatch),u.on("info",i),f.next_timestep=function(){void 0!==s&&s+1<l&&n(s+1)},f.open=function(e){return u.read(e),f},f.previous_timestep=function(){void 0!==s&&s-1>=0&&n(s-1)},f.timeseries=function(e,t){return u.timeseries(e,t)},f.timestep=function(e){return _.get(e)},f}function p(e){return f(1,e)}function m(e){return f(2,e)}function _(e){var t={};return{get:function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=e.getExtension("WEBGL_compressed_texture_etc1");break;default:n=e.getExtension(r)}return null===n&&console.warn("WebGL: "+r+" extension not supported."),t[r]=n,n}}}function g(e){return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}function h(){function e(){for(var e=0;e<16;++e)r[e]=n[e];return r}function t(){for(var e=0;e<16;++e)n[e]=r[e];return n}var r=new Float32Array(16).fill(0),n=new Float32Array(16);return r[0]=r[5]=r[10]=r[15]=1,r.identity=function(){return r.fill(0),r[0]=r[5]=r[10]=r[15]=1,r},r.ortho=function(e,t,n,o,i,a){return r[0]=2/(t-e),r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=2/(o-n),r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-1/(a-i),r[11]=0,r[12]=(t+e)/(e-t),r[13]=(o+n)/(n-o),r[14]=-i/(i-a),r[15]=1,r},r.scale=function(t,o,i){return n[0]=t*r[0],n[1]=t*r[1],n[2]=t*r[2],n[3]=t*r[3],n[4]=o*r[4],n[5]=o*r[5],n[6]=o*r[6],n[7]=o*r[7],n[8]=i*r[8],n[9]=i*r[9],n[10]=i*r[10],n[11]=i*r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],e(),r},r.translate=function(o,i,a){return t(),n[12]=r[0]*o+r[4]*i+r[8]*a+r[12],n[13]=r[1]*o+r[5]*i+r[9]*a+r[13],n[14]=r[2]*o+r[6]*i+r[10]*a+r[14],n[15]=r[3]*o+r[7]*i+r[11]*a+r[15],e()},r}function v(e){function t(){(a()||E)&&(E=!1,i()),requestAnimationFrame(t)}function r(){var e=d3.mouse(this),t=d3.zoomTransform(d),r=t.invert(e);r[1]=v-r[1],l.dispatch({type:"click",coordinates:r,mouse:e,transform:t,offset_y:v})}function n(){var e=d3.mouse(this),t=d3.zoomTransform(d).invert([e[0],e[1]]);t[1]=v-t[1],l.dispatch({type:"hover",coordinates:t})}function i(){p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT);for(var e=0;e<F.length;++e)F[e].render()}function a(){return(d.clientWidth!==y||d.clientHeight!==x)&&(y=d.clientWidth,x=d.clientHeight,d.width=y*b,d.height=x*b,p.viewport(0,0,y,x),(!v||v<0)&&(v=x),s(),!0)}function s(e,t,r){if(!arguments.length){var n=d3.zoomTransform(d);return s(n.k,n.x,n.y)}A.ortho(0,y,x,0,-1e4,1e4).translate(t,r,0).scale(e,-e,1).translate(0,-v,0);for(var o=0;o<F.length;++o)F[o].shader().projection(A);l.dispatch({type:"projection",transform:d3.zoomTransform(d)})}function c(){var e=d3.event.transform;s(e.k,e.x,e.y),l.render()}var l=o(),u=e,d=e.node();if(g(d)){var f={alpha:!1,antialias:!1,premultiplieAlpha:!1,stencil:!0},p=d.getContext("webgl",f)||d.getContext("experimental-webgl",f);if(null!==p){var m=_(p);m.get("ANGLE_instanced_arrays"),m.get("OES_element_index_uint"),m.get("OES_standard_derivatives");var v,y=0,x=0,b=1,w=d3.color("white"),A=h(),k=d3.zoom().on("zoom",c);u.call(k).on("mousemove",n).on("click",r);var E=!0,F=[];return l.add_view=function(e){return e.on("update",l.render),F.push(e),s(),l},l.clear_color=function(e){return arguments.length?(w=d3.rgb.apply(w,arguments),p.clearColor(w.r/255,w.g/255,w.b/255,w.opacity),l.render()):w},l.gl_context=function(){return p},l.remove_view=function(e){return e.off("update",l.render),l},l.render=function(){return E=!0,l},l.set_view=function(e){return e.on("update",l.render),F=[e],s(),l},l.zoom_to=function(e){if(!arguments.length)return l;var t=e.bounding_box(),r=0,n=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=(t[0][0]+t[1][0])/2,a=x-(t[0][1]+t[1][1])/2,s=.9/Math.max(n/y,o/x),c=[y/2-s*i,x/2-s*a];return 2==arguments.length&&(r=arguments[1]),u.transition().duration(r).call(k.transform,d3.zoomIdentity.translate(c[0],c[1]).scale(s)),l},d.addEventListener("webglcontextlost",l.dispatch),d.addEventListener("webglcontextrestored",l.dispatch),d.addEventListener("webglcontextcreationerror",l.dispatch),t(),l}}}function y(e,t){function r(e){for(var t=new Float32Array(3*s),r=0;r<s;++r){var n=e[r];t[3*r]=n,t[3*r+1]=n,t[3*r+2]=n}var o=u.get("vertex_value");i.bindBuffer(i.ARRAY_BUFFER,o.buffer),i.bufferSubData(i.ARRAY_BUFFER,0,t)}function n(e){for(var t=new Float32Array(3*s),r=a.nodes().map,n=a.elements().array,o=0;o<3*s;++o){var c=n[o],l=r.get(c);t[o]=e[l]}var d=u.get("vertex_value");i.bindBuffer(i.ARRAY_BUFFER,d.buffer),i.bufferSubData(i.ARRAY_BUFFER,0,t)}var i=e,a=t,s=0,c=0,l=1,u=d3.map(),d=o();return d.bind_buffer=function(e){var t=u.get(e);if(t)return i.bindBuffer(i.ARRAY_BUFFER,t.buffer),t},d.bounding_box=function(){var e=a.bounding_box();return[[l*e[0][0],l*e[0][1]],[l*e[1][0],l*e[1][1]]]},d.draw_arrays=function(){i.drawArrays(i.TRIANGLES,0,3*s)},d.elemental_value=function(e){var t=a.elemental_value(e);t&&(r(t),d.dispatch({type:"update",value:e}))},d.nodal_value=function(e){var t=a.nodal_value(e);t&&(n(t),d.dispatch({type:"update",value:e}))},function(e,r){var n=t.bounding_box();Math.min(n[1][0]-n[0][0],n[1][1]-n[0][1]);c=r.array.length,s=r.array.length/3;for(var o=new Float32Array(2*c),a=new Float32Array(c),d=new Float32Array(3*c),f=e.dimensions,p=0;p<c;++p){var m=r.array[p],_=e.map.get(m);o[2*p]=e.array[f*_]*l,o[2*p+1]=e.array[f*_+1]*l}for(var p=0;p<s;++p)d[9*p]=1,d[9*p+4]=1,d[9*p+8]=1;var g=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,g),i.bufferData(i.ARRAY_BUFFER,o,i.STATIC_DRAW);var h=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,h),i.bufferData(i.ARRAY_BUFFER,a,i.DYNAMIC_DRAW);var v=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,v),i.bufferData(i.ARRAY_BUFFER,d,i.STATIC_DRAW),u.set("vertex_position",{buffer:g,size:2,type:i.FLOAT,normalized:!1,stride:0,offset:0}),u.set("vertex_value",{buffer:h,size:1,type:i.FLOAT,normalized:!1,stride:0,offset:0}),u.set("vertex_normal",{buffer:v,size:3,type:i.FLOAT,normalized:!1,stride:0,offset:0})}(a.nodes(),a.elements()),d}function x(e,t,r){var n=e,i=t,a=r,s=o();return s.elemental_value=function(e){return i.elemental_value(e),s},s.nodal_value=function(e){return i.nodal_value(e),s},s.render=function(){return a.use(),a.attributes().each(function(e,t){var r=i.bind_buffer(t);"undefined"!==r&&(n.vertexAttribPointer(e,r.size,r.type,r.normalized,r.stride,r.offset),n.enableVertexAttribArray(e))}),i.draw_arrays(),s},s.shader=function(e){return arguments.length?(e.projection(a.projection()),a=e,s.dispatch({type:"update"}),s):a},i.on("update",s.dispatch),s}function b(e,t,r,n,o){var i=e.createShader(t);if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS)===!1){var a=e.getShaderInfoLog(i);return o||(o=console.error),o("Unable to compile shader"),o(a),void e.deleteShader(i)}return e.getShaderParameter(i,e.COMPILE_STATUS)===!1&&(n||(n=console.warn),n(e.getShaderInfoLog(i),w(r))),i}function w(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")}function A(e,t,r,n,o){var i=e.createProgram(),a=b(e,e.VERTEX_SHADER,t,n,o),s=b(e,e.FRAGMENT_SHADER,r,n,o);if(i&&a&&s)return e.attachShader(i,a),e.attachShader(i,s),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)===!1&&(o||(o=console.error),o(e.getProgramInfoLog(i))),e.deleteShader(a),e.deleteShader(s),i}function k(e){var t=e,r=A(t,E(),F()),n=d3.color("white"),o=d3.color("black"),i=.3,a=1;t.useProgram(r);var s=d3.map({vertex_normal:t.getAttribLocation(r,"vertex_normal"),vertex_position:t.getAttribLocation(r,"vertex_position")}),c=d3.map({face_color:t.getUniformLocation(r,"face_color"),projection_matrix:t.getUniformLocation(r,"projection_matrix"),wire_alpha:t.getUniformLocation(r,"wire_alpha"),wire_color:t.getUniformLocation(r,"wire_color"),wire_width:t.getUniformLocation(r,"wire_width")});return r.attribute=function(e){return s.get(e)},r.attributes=function(e){return arguments.length?(s.each(e),r):s},r.face_color=function(e){return arguments.length?(n=e,t.useProgram(r),t.uniform3fv(r.uniform("face_color"),[e.r/255,e.g/255,e.b/255]),r):n},r.set_projection=function(e){return t.useProgram(r),t.uniformMatrix4fv(r.uniform("projection_matrix"),!1,e),r},r.wire_alpha=function(e){return arguments.length?(i=e,t.useProgram(r),t.uniform1f(r.uniform("wire_alpha"),e),r):i},r.wire_color=function(e){return arguments.length?(o=e,t.useProgram(r),t.uniform3fv(r.uniform("wire_color"),[e.r/255,e.g/255,e.b/255]),r):o},r.wire_width=function(e){return arguments.length?(a=e,t.useProgram(r),t.uniform1f(r.uniform("wire_width"),e),r):a},r.uniform=function(e){return c.get(e)},r.uniforms=function(){return c.keys()},r.use=function(){return t.useProgram(r),r},r.face_color(r.face_color()).wire_alpha(r.wire_alpha()).wire_color(r.wire_color()).wire_width(r.wire_width())}function E(){return["attribute vec3 vertex_position;","attribute vec3 vertex_normal;","uniform mat4 projection_matrix;","varying vec3 _vertex_normal;","void main( void ) {","   gl_Position = projection_matrix * vec4( vertex_position, 1.0 );","   _vertex_normal = vertex_normal;","}"].join("\n")}function F(){return["#extension GL_OES_standard_derivatives : enable","precision highp float;","varying vec3 _vertex_normal;","uniform vec3 face_color;","uniform vec3 wire_color;","uniform float wire_alpha;","uniform float wire_width;","float edgeFactorTri() {","   vec3 d = fwidth( _vertex_normal.xyz );","   vec3 a3 = smoothstep( vec3( 0.0 ), d * wire_width, _vertex_normal.xyz );","   return min( min( a3.x, a3.y ), a3.z );","}","void main() {","   vec4 wire = mix( vec4(face_color, 1.0), vec4(wire_color, 1.0), wire_alpha);","   if ( wire_width == 0.0 ) {","       gl_FragColor = vec4(_vertex_color, 1.0);","   } else {","       gl_FragColor = mix( wire, vec4(_vertex_color, 1.0), edgeFactorTri() );","   }","}"].join("\n")}function L(e,t,r,n){function o(e,t,r){for(var n=[],o=0;o<r;++o)n.push(e+(t-e)*o/(r-1));return n}t=t>1?t:2;for(var i,a=e,s=A(a,R(t),z()),c=[],l=[],u=d3.color("black"),d=.3,f=1,r=r||0,n=n||1,p=0;p<t;++p)l.push(r+(n-r)*p/(t-1)),c.push(d3.color(d3.schemeCategory20[p%t]));a.useProgram(s);var m=d3.map({vertex_normal:a.getAttribLocation(s,"vertex_normal"),vertex_position:a.getAttribLocation(s,"vertex_position"),vertex_value:a.getAttribLocation(s,"vertex_value")}),_=d3.map({gradient_colors:a.getUniformLocation(s,"gradient_colors"),gradient_stops:a.getUniformLocation(s,"gradient_stops"),projection_matrix:a.getUniformLocation(s,"projection_matrix"),wire_alpha:a.getUniformLocation(s,"wire_alpha"),wire_color:a.getUniformLocation(s,"wire_color"),wire_width:a.getUniformLocation(s,"wire_width")});return s.attribute=function(e){return m.get(e)},s.attributes=function(e){return arguments.length?(m.each(e),s):m},s.gradient_colors=function(e){if(!arguments.length)return c;c=e;var t=c.map(function(e){return[e.r/255,e.g/255,e.b/255]}).reduce(function(e,t){return e.concat(t)},[]);return a.useProgram(s),a.uniform3fv(s.uniform("gradient_colors"),t),s},s.gradient_stops=function(e){return arguments.length?(2==e.length&&2!==t&&(e=o(e[0],e[1],t)),l=e,a.useProgram(s),a.uniform1fv(s.uniform("gradient_stops"),l),s):l},s.projection=function(e){return arguments.length?(i=e,a.useProgram(s),a.uniformMatrix4fv(s.uniform("projection_matrix"),!1,e),s):i},s.wire_alpha=function(e){return arguments.length?(d=e,a.useProgram(s),a.uniform1f(s.uniform("wire_alpha"),e),s):d},s.wire_color=function(e){return arguments.length?(u=e,a.useProgram(s),a.uniform3fv(s.uniform("wire_color"),[e.r/255,e.g/255,e.b/255]),s):u},s.wire_width=function(e){return arguments.length?(f=e,a.useProgram(s),a.uniform1f(s.uniform("wire_width"),e),s):f},s.uniform=function(e){return _.get(e)},s.uniforms=function(){return _.keys()},s.use=function(){return a.useProgram(s),s},s.gradient_colors(s.gradient_colors()).gradient_stops(s.gradient_stops()).wire_alpha(s.wire_alpha()).wire_color(s.wire_color()).wire_width(s.wire_width())}function R(e){for(var t=["attribute vec2 vertex_position;","attribute vec3 vertex_normal;","attribute float vertex_value;","uniform mat4 projection_matrix;","uniform float gradient_stops["+e+"];","uniform vec3 gradient_colors["+e+"];","varying vec3 _vertex_normal;","varying vec3 _vertex_color;","void main() {","  gl_Position = projection_matrix * vec4( vertex_position, vertex_value, 1.0 );","  _vertex_normal = vertex_normal;","  _vertex_color = gradient_colors[0];","  float t;"],r=1;r<e;++r)t.push("  t = clamp((vertex_value - gradient_stops["+(r-1)+"]) / (gradient_stops["+r+"]-gradient_stops["+(r-1)+"]), 0.0, 1.0);"),t.push("  _vertex_color = mix( _vertex_color, gradient_colors["+r+"], t*t*(3.0-2.0*t));");return t.push("}"),t.join("\n")}function z(){return["#extension GL_OES_standard_derivatives : enable","precision mediump float;","varying vec3 _vertex_normal;","varying vec3 _vertex_color;","uniform vec3 wire_color;","uniform float wire_alpha;","uniform float wire_width;","float edgeFactorTri() {","   vec3 d = fwidth( _vertex_normal.xyz );","   vec3 a3 = smoothstep( vec3( 0.0 ), d * wire_width, _vertex_normal.xyz );","   return min( min( a3.x, a3.y ), a3.z );","}","void main() {","   vec4 wire = mix( vec4(_vertex_color, 1.0), vec4(wire_color, 1.0), wire_alpha);","   if ( wire_width == 0.0 ) {","       gl_FragColor = vec4(_vertex_color, 1.0);","   } else {","       gl_FragColor = mix( wire, vec4(_vertex_color, 1.0), edgeFactorTri() );","   }","}"].join("\n")}function B(){function e(t){return l=t.style("position","relative").style("width","100%").style("margin-top","4px").style("margin-bottom","4px").style("user-select","none"),u=l.selectAll("div").data(["slider_bar"]),u.exit().remove(),u=u.enter().append("div").merge(u),u.style("position","relative").style("left",0).style("width","1px").style("background-clip","content-box").style("margin","-4px").style("border-width","4px").style("border-style","solid").style("user-select","none"),d=l.node().getBoundingClientRect().width,L.domain([0,d]),l.on("mousedown",r).on("wheel",s),e.arrows(f),e.bar(p),e.color(m),e.domain(k),e.draggable(y),e.height(g),e.jumpable(x),e}function t(e){var t=F.domain();return e<t[0]?t[0]:e>t[1]?t[1]:e}function r(){if(x){var e=d3.mouse(this)[0];e<0&&(e=0),e>d&&(e=d);c(L(e))&&n()}}function n(){e.dispatch({type:"value",value:_})}function i(t){var r=_;t>_&&(r+=A),t<_&&(r-=A),r!==_&&e.dispatch({type:"request",value:r})}function a(){if(y){var e=d3.event.x;e<0&&(e=0),e>d&&(e=d);var t=L(e);b?i(t):c(t)&&n()}}function s(){if(y){var t=d3.event.shiftKey?10*A:A,r=d3.event.deltaX<0||d3.event.deltaY<0?1:-1;c(e.current()+t*r)&&n()}}function c(e){return(e=w?t(e):E(e))!==_&&(_=x?e:e>_?_+A:_-A,u&&u.style("left",F(_)+"%"),!0)}var l,u,d,f="both",p="dimgray",m="lightgray",_=0,g=20,h=d3.drag().on("drag",a),v=d3.drag().on("start",r).on("drag",a),y=!0,x=!0,b=!1,w=!1,A=1,k=[0,100],E=d3.scaleQuantize(),F=d3.scaleLinear().range([0,100]).clamp(!0),L=d3.scaleLinear();return e.arrows=function(t){if(!arguments.length)return f;if(("top"==t||"bottom"==t||"both"==t||"none"==t)&&(f=t,u))switch(f){case"both":u.style("border-color",p+" transparent "+p+" transparent");break;case"top":u.style("border-color",p+" transparent transparent transparent");break;case"bottom":u.style("border-color","transparent transparent "+p+" transparent");break;default:u.style("border-color","transparent transparent transparent transparent")}return e},e.bar=function(t){return arguments.length?(p=t,u&&(u.style("background-color",p),e.arrows(f)),e):p},e.color=function(t){return arguments.length?(m=t,l&&l.style("background-color",m),e):m},e.continuous=function(t){return arguments.length?(w=!!t,e):w},e.current=function(t){return arguments.length?(c(t),e):_},e.domain=function(t){if(!arguments.length)return F.domain();k=t;var r=[];A=2==arguments.length?arguments[1]:1;for(var n=t[0];n<=t[1];n+=A)r.push(n);return E.domain(t).range(r),F.domain(t),L.range(t),e},e.draggable=function(t){return arguments.length?(y=!!t,u&&(y?u.style("cursor","pointer").call(h):u.style("cursor",null).on(".drag",null)),e):y},e.height=function(t){return arguments.length?(g=t,l&&l.style("min-height",g+"px"),u&&u.style("min-height",g+"px"),e):g},e.jumpable=function(t){return arguments.length?(x=!!t,l&&(x?l.style("cursor","pointer").call(v):l.style("cursor",null).on(".drag",null)),e):x},e.needs_request=function(t){return arguments.length?(b=!!t,e):b},e.set=function(e){c(e)},o(e)}function S(){function e(r){return t=r,e.file_picker(n),e}var t,r,n
;return e.file_picker=function(o){return arguments.length?"function"!=typeof o?e:(n=o,!r&&t&&(r=t.append("input").attr("type","file").style("display","none").on("click",function(){d3.event.stopPropagation()}).on("change",function(){"function"==typeof n&&n(r.node().files[0])})),t&&t.on("click",function(){d3.event.preventDefault(),r.node().click()}),e):r},e}function I(){function e(n){return t=n.style("position","relative").style("width","100%").style("user-select","none"),r=t.selectAll("div").data(["progress_bar"]),r.exit().remove(),r=r.enter().append("div").merge(r),r.style("position","relative").style("left",0).style("width","0%").style("background-clip","content-box").style("user-select","none"),e.background_color(i),e.color(a),e.height(o),e}var t,r,n=0,o=10,i="lightgray",a="steelblue",s=d3.scaleLinear().domain([0,100]).range([0,100]).clamp(!0);return e.background_color=function(r){return arguments.length?(i=r,t&&t.style("background-color",i),e):i},e.color=function(t){return arguments.length?(a=t,r&&r.style("background-color",a),e):a},e.height=function(n){return arguments.length?(o=n,t&&t.style("min-height",o+"px"),r&&r.style("min-height",o+"px"),e):o},e.progress=function(t){return arguments.length?(n=s(t),r&&r.style("width",n+"%"),e):n},e}function T(){function e(t){return c=t,n(c),e}function t(e){for(var t="linear-gradient( 0deg, ",r=0;r<e.length;++r){t+=e[r].color+" "+100*e[r].stop+"%",r<e.length-1&&(t+=",")}return t+")"}function r(r){var n=Math.max(0,Math.min(m,d3.event.y));d3.select(this).style("top",n+"px"),r.stop=h.invert(n);var o=_.sort(a);l.style("background",t(o)),d.each(s),e.dispatch({type:"gradient",stops:o.map(function(e){return g(e.stop)}),colors:o.map(function(e){return e.color})})}function n(e){e.style("position","relative").style("width",f+p+"px").style("user-select","none").style("min-height",m+"px"),l=e.selectAll(".gradient-bar").data([{}]),l.exit().remove(),l=l.enter().append("div").attr("class","gradient-bar").merge(l),l.style("position","absolute").style("top",0).style("left",0).style("width",f+"px").style("height","100%").style("background",t(_)).style("user-select","none"),u=e.selectAll(".gradient-track").data([{}]),u.exit().remove(),u=u.enter().append("div").attr("class","gradient-track").merge(u),u.style("position","absolute").style("top",0).style("left",f+"px").style("width",p+"px").style("height","100%").style("user-select","none"),i()}function i(){d=u.selectAll(".slider").data(_),d.exit().remove(),d=d.enter().append("div").attr("class","slider").merge(d),d.style("width","0px").style("height","1px").style("border-width","8px").style("border-style","solid").style("margin-top","-8px").style("margin-left","-8px").style("position","absolute").style("left",0).each(function(e){d3.select(this).style("top",m-e.stop*m+"px").style("border-color","transparent "+e.color+" transparent transparent").style("user-select","none")}).each(s).call(d3.drag().on("drag",r))}function a(e,t){return e.stop>t.stop}function s(e){var t=d3.select(this).selectAll("div").data([{}]);t.exit().remove(),t=t.enter().append("div").merge(t),t.style("position","absolute").style("top","50%").style("left","8px").style("transform","translateY(-50%)").style("padding-left","4px").style("font-size","13px").style("font-family","serif").style("min-width",p-12+"px").style("user-select","none").style("cursor","default").text(g(e.stop).toFixed(5))}var c,l,u,d,f=50,p=75,m=250,_=[{stop:0,color:"lightsteelblue"},{stop:1,color:"steelblue"}],g=d3.scaleLinear().domain([0,1]).range([0,1]),h=d3.scaleLinear().domain([0,1]).range([m,0]);return e.stops=function(t,r){var o=d3.extent(t);g.range(o),_=[];for(var i=0;i<t.length;++i)_.push({stop:g.invert(t[i]),color:r[i]});return _=_.sort(a),n(c),e},o(e)}function U(e){function t(e){return e.append("div").style("display","flex").style("flex-direction","column")}function r(e){return!e||!!o[e]}function n(){console.error("All UI components must have a unique ID")}var o=Object.create(null);return e.selectAll(".adc-slider").each(function(){var e=d3.select(this),i=e.attr("id");if(r(i))return n();o[i]=B()(t(e))}),e.selectAll(".adc-button").each(function(){var e=d3.select(this),t=e.attr("id");if(r(t))return n();o[t]=S()(e)}),e.selectAll(".adc-progress").each(function(){var e=d3.select(this),t=e.attr("id");if(r(t))return n();o[t]=I()(e)}),e.selectAll(".adc-gradient").each(function(){var e=d3.select(this),t=e.attr("id");if(r(t))return n();o[t]=T()(e)}),o}function P(){function e(e){for(var o=e.names?Math.min(e.names.length,e.dimensions)-2:0,i=e.array.length/e.dimensions,a=[new Float32Array(2*i)],s=0;s<o;++s)a.push(new Float32Array(i));for(var c=0;c<i;++c){a[0][2*c]=e.array[e.dimensions*c],a[0][2*c+1]=e.array[e.dimensions*c+1];for(var l=0;l<o;++l)a[1+l][c]=e.array[e.dimensions*c+2+l]}n={array:a[0],map:e.map,dimensions:2,names:["x","y"]};for(var l=0;l<o;++l){var u=e.names[2+l];r.nodal_value(u,a[1+l])}t=M(n)}var t,r=o(),n=Object.create({array:[],map:d3.map(),dimensions:2}),i=Object.create({array:[],map:d3.map()}),a=d3.map(),s=d3.map();return r.bounding_box=function(){return t},r.bounds=function(e){var t=r.nodal_value(e)||r.elemental_value(e);if(t)return M({array:t,dimensions:1})},r.elemental_value=function(e,t){return 1==arguments.length?s.get(e):(2==arguments.length&&t.length==i.array.length/3&&(s.set(e,t),r.dispatch({type:"elemental_value",name:e,array:t})),r)},r.elemental_values=function(){return s.keys()},r.elements=function(e){return arguments.length?(e.array&&e.map&&(i=e),r.dispatch({type:"num_elements",num_elements:r.num_elements()}),r):i},r.find_node=function(e){for(var t,r,o,i=n.array.length/2,a={node_number:null,distance:1/0},s=0;s<i;++s)t=n.array[2*s],r=n.array[2*s+1],(o=function(t,r){return(t-e[0])*(t-e[0])+(r-e[1])*(r-e[1])}(t,r))<a.distance&&(a.distance=o,a.node_number=s+1,a.coordinates=[t,r]);return a},r.nodal_value=function(e,t){return 1==arguments.length?a.get(e):(2==arguments.length&&t.length==n.array.length/n.dimensions&&(a.set(e,t),r.dispatch({type:"nodal_value",name:e,array:t})),r)},r.nodal_values=function(){return a.keys()},r.nodes=function(o){return arguments.length?(o.array&&o.map&&o.dimensions&&e(o),r.dispatch({type:"bounding_box",bounding_box:t}),r.dispatch({type:"num_nodes",num_nodes:r.num_nodes()}),r):n},r.num_elements=function(){return i.array.length/3},r.num_nodes=function(){return n.array.length/n.dimensions},r}function M(e){for(var t=e.array,r=e.dimensions,n=t.length/r,o=[],i=[],a=0;a<r;++a)o.push(1/0),i.push(-(1/0));for(var s=0;s<n;++s)for(var c=0;c<r;++c)t[r*s+c]!==-99999&&(t[r*s+c]<o[c]&&(o[c]=t[r*s+c]),t[r*s+c]>i[c]&&(i[c]=t[r*s+c]));return 1==r?[o[0],i[0]]:[o,i]}function j(e){var t,r=e,n=o();return n.bounding_box=function(){return r.bounding_box()},n.mesh=function(){return r},n.name=function(e){return arguments.length?(t=e,n.dispatch({type:"modify",target:r,property:"name",name:t}),n):t},n.select=function(){n.dispatch({type:"select",target:r})},r.on("bounding_box",n.dispatch),r.on("elemental_value",n.dispatch),r.on("nodal_value",n.dispatch),n}var O=function(e){var t=URL.createObjectURL(new Blob([e],{type:"application/javascript"})),r=new Worker(t);return URL.revokeObjectURL(t),r};e.fort14=i,e.fort63=l,e.fort64=u,e.fort63_cached=p,e.fort64_cached=m,e.gl_renderer=v,e.geometry=y,e.view=x,e.basic_shader=k,e.gradient_shader=L,e.cache=d,e.dispatcher=o,e.slider=B,e.button=S,e.progress=I,e.gradient=T,e.ui=U,e.mesh_view=j,e.mesh=P,Object.defineProperty(e,"__esModule",{value:!0})});